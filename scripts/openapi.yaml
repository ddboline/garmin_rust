openapi: 3.0.1
info:
  title: Fitness Activity WebApp
  description: Web Frontend for Fitness Activities
  version: 0.14.7
paths:
  /garmin/index.html:
    get:
      parameters:
      - name: filter
        in: query
        required: false
        schema:
          nullable: true
          type: string
      responses:
        '200':
          description: Main Page
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/demo.html:
    get:
      parameters:
      - name: filter
        in: query
        required: false
        schema:
          nullable: true
          type: string
      responses:
        '200':
          description: Main Page
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/upload_file:
    post:
      responses:
        '201':
          description: Upload Response
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/add_garmin_correction:
    post:
      requestBody:
        content:
          application/json:
            schema:
              properties:
                start_time:
                  description: Start DateTime
                  format: date-time
                  type: string
                lap_number:
                  description: Lap Number
                  type: integer
                distance:
                  description: Distance (m)
                  nullable: true
                  type: number
                duration:
                  description: Duration (s)
                  nullable: true
                  type: number
                sport:
                  description: Sport
                  nullable: true
                  type: string
                  enum:
                  - running
                  - biking
                  - walking
                  - hiking
                  - ultimate
                  - elliptical
                  - stairs
                  - lifting
                  - swimming
                  - other
                  - snowshoeing
                  - skiing
                  - none
              type: object
              required:
              - start_time
              - lap_number
        required: true
      responses:
        '201':
          description: Add correction
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/garmin_connect_activities_db:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      responses:
        '200':
          description: Garmin Connect Activities
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/GarminConnectActivity'
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
    post:
      requestBody:
        content:
          application/json:
            schema:
              properties:
                updates:
                  items:
                    $ref: '#/components/schemas/GarminConnectActivity'
                  type: array
              type: object
              required:
              - updates
        required: true
      responses:
        '201':
          description: Garmin Connect Activities
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/garmin_sync:
    get:
      responses:
        '200':
          description: Garmin Sync
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/strava_sync:
    get:
      parameters:
      - name: start_datetime
        in: query
        required: false
        schema:
          format: date-time
          nullable: true
          type: string
      - name: end_datetime
        in: query
        required: false
        schema:
          format: date-time
          nullable: true
          type: string
      responses:
        '200':
          description: Strava Sync
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/auth:
    get:
      responses:
        '200':
          description: Fitbit Auth
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/refresh_auth:
    get:
      responses:
        '200':
          description: Fitbit Refresh Auth
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/callback:
    get:
      parameters:
      - name: code
        in: query
        required: true
        schema:
          description: Authorization Code
          type: string
      - name: state
        in: query
        required: true
        schema:
          description: CSRF State
          type: string
      responses:
        '200':
          description: Fitbit Callback
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/heartrate_api:
    get:
      parameters:
      - name: date
        in: query
        required: true
        schema:
          format: date
          example: 2023-01-01
          type: string
      responses:
        '200':
          description: Fitbit Heartrate
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/FitbitHeartrate'
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/heartrate_cache:
    get:
      parameters:
      - name: date
        in: query
        required: true
        schema:
          format: date
          example: 2023-01-01
          type: string
      responses:
        '200':
          description: Fitbit Heartrate
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/FitbitHeartrate'
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
    post:
      requestBody:
        content:
          application/json:
            schema:
              properties:
                updates:
                  items:
                    $ref: '#/components/schemas/FitbitHeartrate'
                  type: array
              type: object
              required:
              - updates
        required: true
      responses:
        '201':
          description: Fitbit Heartrate Update
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/sync:
    get:
      parameters:
      - name: date
        in: query
        required: true
        schema:
          format: date
          example: 2023-01-01
          type: string
      responses:
        '200':
          description: Fitbit Sync
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/bodyweight:
    get:
      responses:
        '200':
          description: Fitbit Body Weight
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/FitbitBodyWeightFat'
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/bodyweight_sync:
    get:
      responses:
        '200':
          description: Fitbit Body Weight Sync
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FitbitBodyWeightFatUpdate'
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/plots:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: button_date
        in: query
        required: false
        schema:
          description: Button Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: offset
        in: query
        required: false
        schema:
          description: Offset
          nullable: true
          type: integer
          minimum: 0
      responses:
        '200':
          description: Scale Measurement Plots
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/plots_demo:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: button_date
        in: query
        required: false
        schema:
          description: Button Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: offset
        in: query
        required: false
        schema:
          description: Offset
          nullable: true
          type: integer
          minimum: 0
      responses:
        '200':
          description: Scale Measurement Plots
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/heartrate_statistics_plots:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: button_date
        in: query
        required: false
        schema:
          description: Button Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: offset
        in: query
        required: false
        schema:
          description: Offset
          nullable: true
          type: integer
          minimum: 0
      responses:
        '200':
          description: Fitbit Heartrate Statistics Plots
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/heartrate_statistics_plots_demo:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: button_date
        in: query
        required: false
        schema:
          description: Button Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: offset
        in: query
        required: false
        schema:
          description: Offset
          nullable: true
          type: integer
          minimum: 0
      responses:
        '200':
          description: Fitbit Heartrate Statistics Plots
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/heartrate_plots:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: button_date
        in: query
        required: false
        schema:
          description: Button Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: offset
        in: query
        required: false
        schema:
          description: Offset
          nullable: true
          type: integer
          minimum: 0
      responses:
        '200':
          description: Fitbit Heartrate Plots
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/heartrate_plots_demo:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: button_date
        in: query
        required: false
        schema:
          description: Button Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: offset
        in: query
        required: false
        schema:
          description: Offset
          nullable: true
          type: integer
          minimum: 0
      responses:
        '200':
          description: Fitbit Heartrate Plots
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/fitbit_tcx_sync:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      responses:
        '200':
          description: Fitbit Tcx Sync
          content:
            application/json:
              schema:
                items:
                  type: string
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/fitbit_activity_types:
    get:
      responses:
        '200':
          description: Fitbit Activity Types
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/fitbit_activities:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      responses:
        '200':
          description: Fitbit Activities
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/FitbitActivity'
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/fitbit_activities_db:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      responses:
        '200':
          description: Fitbit Activities
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/FitbitActivity'
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
    post:
      requestBody:
        content:
          application/json:
            schema:
              properties:
                updates:
                  items:
                    $ref: '#/components/schemas/FitbitActivity'
                  type: array
              type: object
              required:
              - updates
        required: true
      responses:
        '201':
          description: Fitbit Activities Update
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/heartrate_statistics_summary_db:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      responses:
        '200':
          description: Heartrate Statistics
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/FitbitStatisticsSummary'
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
    post:
      requestBody:
        content:
          application/json:
            schema:
              properties:
                updates:
                  items:
                    $ref: '#/components/schemas/FitbitStatisticsSummary'
                  type: array
              type: object
              required:
              - updates
        required: true
      responses:
        '201':
          description: Heartrate Statistics Update
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/fitbit/profile:
    get:
      responses:
        '200':
          description: Fitbit Profile
          content:
            text/plain:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/scale_measurements:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: button_date
        in: query
        required: false
        schema:
          description: Button Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: offset
        in: query
        required: false
        schema:
          description: Offset
          nullable: true
          type: integer
          minimum: 0
      responses:
        '200':
          description: Scale Measurements
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/ScaleMeasurement'
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
    post:
      requestBody:
        content:
          application/json:
            schema:
              properties:
                measurements:
                  items:
                    $ref: '#/components/schemas/ScaleMeasurement'
                  type: array
              type: object
              required:
              - measurements
        required: true
      responses:
        '201':
          description: Scale Measurements Update
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/scale_measurements/manual:
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScaleMeasurementManualRequest'
        required: true
      responses:
        '201':
          description: Scale Measurement Manual Input Post
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScaleMeasurement'
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/scale_measurements/manual/input:
    get:
      responses:
        '200':
          description: Scale Measurement Manual Input
          content:
            text/plain:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/strava/auth:
    get:
      responses:
        '200':
          description: Strava Auth
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/strava/refresh_auth:
    get:
      responses:
        '200':
          description: Strava Refresh Auth
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/strava/callback:
    get:
      parameters:
      - name: code
        in: query
        required: true
        schema:
          description: Authorization Code
          type: string
      - name: state
        in: query
        required: true
        schema:
          description: CSRF State
          type: string
      responses:
        '200':
          description: Strava Callback
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/strava/activities:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      responses:
        '200':
          description: Strava Activities
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/StravaActivity'
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/strava/athlete:
    get:
      responses:
        '200':
          description: Strava Athlete
          content:
            text/plain:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/strava/activities_db:
    get:
      parameters:
      - name: start_date
        in: query
        required: false
        schema:
          description: Start Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      - name: end_date
        in: query
        required: false
        schema:
          description: End Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
      responses:
        '200':
          description: Strava Activities
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/StravaActivity'
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StravaActiviesDBUpdateRequest'
        required: true
      responses:
        '201':
          description: Strava Activities Update
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/strava/upload:
    post:
      requestBody:
        content:
          application/json:
            schema:
              properties:
                filename:
                  description: File Name
                  type: string
                title:
                  description: Title
                  type: string
                activity_type:
                  description: Activity Type
                  type: string
                description:
                  description: Description
                  nullable: true
                  type: string
                is_private:
                  description: Privacy Flag
                  nullable: true
                  type: boolean
              type: object
              required:
              - filename
              - title
              - activity_type
        required: true
      responses:
        '201':
          description: Strava Upload
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/strava/update:
    post:
      requestBody:
        content:
          application/json:
            schema:
              properties:
                activity_id:
                  description: Strava Activity ID
                  type: integer
                  minimum: 0
                title:
                  description: Title
                  type: string
                activity_type:
                  description: Activity Type
                  type: string
                description:
                  description: Description
                  nullable: true
                  type: string
                is_private:
                  description: Privacy Flag
                  nullable: true
                  type: boolean
                start_time:
                  description: Start DateTime
                  format: date-time
                  nullable: true
                  type: string
              type: object
              required:
              - activity_id
              - title
              - activity_type
        required: true
      responses:
        '201':
          description: Strava Update
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/strava/create:
    post:
      parameters:
      - name: filename
        in: query
        required: true
        schema:
          type: string
      responses:
        '201':
          description: Strava Create
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/user:
    get:
      responses:
        '200':
          description: Logged in User
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoggedUser'
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/race_result_plot:
    get:
      parameters:
      - name: race_type
        in: query
        required: true
        schema:
          description: Race Type
          type: string
          enum:
          - personal
          - world_record_men
          - world_record_women
      - name: demo
        in: query
        required: false
        schema:
          description: Demo Flag
          nullable: true
          type: boolean
      responses:
        '200':
          description: Race Result Plot
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/race_result_flag:
    get:
      parameters:
      - name: id
        in: query
        required: true
        schema:
          format: uuid
          example: 334518f4-1bfd-4f20-9978-bfad0dc033e1
          type: string
      responses:
        '200':
          description: Race Result Plot
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/race_result_import:
    get:
      parameters:
      - name: filename
        in: query
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Race Result Import
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/race_result_plot_demo:
    get:
      parameters:
      - name: race_type
        in: query
        required: true
        schema:
          description: Race Type
          type: string
          enum:
          - personal
          - world_record_men
          - world_record_women
      - name: demo
        in: query
        required: false
        schema:
          description: Demo Flag
          nullable: true
          type: boolean
      responses:
        '200':
          description: Race Result Plot
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/race_results_db:
    get:
      parameters:
      - name: race_type
        in: query
        required: false
        schema:
          description: Race Type
          nullable: true
          type: string
          enum:
          - personal
          - world_record_men
          - world_record_women
      responses:
        '200':
          description: Race Results
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/RaceResults'
                type: array
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RaceResultsDBUpdateRequest'
        required: true
      responses:
        '201':
          description: Race Results Update
          content:
            text/html:
              schema:
                type: string
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '405':
          description: Method not allowed
        '500':
          description: Internal Server Error
  /garmin/scripts/garmin_scripts.js:
    get:
      responses:
        '200':
          description: Javascript
          content:
            text/javascript:
              schema:
                type: string
  /garmin/scripts/garmin_scripts_demo.js:
    get:
      responses:
        '200':
          description: Javascript
          content:
            text/javascript:
              schema:
                type: string
  /garmin/scripts/line_plot.js:
    get:
      responses:
        '200':
          description: Javascript
          content:
            text/javascript:
              schema:
                type: string
  /garmin/scripts/scatter_plot.js:
    get:
      responses:
        '200':
          description: Javascript
          content:
            text/javascript:
              schema:
                type: string
  /garmin/scripts/scatter_plot_with_lines.js:
    get:
      responses:
        '200':
          description: Javascript
          content:
            text/javascript:
              schema:
                type: string
  /garmin/scripts/time_series.js:
    get:
      responses:
        '200':
          description: Javascript
          content:
            text/javascript:
              schema:
                type: string
  /garmin/scripts/initialize_map.js:
    get:
      responses:
        '200':
          description: Javascript
          content:
            text/javascript:
              schema:
                type: string
components:
  schemas:
    GarminConnectActivity:
      properties:
        activity_id:
          description: Activity ID
          type: integer
        activity_name:
          description: Activity Name
          nullable: true
          type: string
        description:
          description: Description
          nullable: true
          type: string
        start_time_gmt:
          description: Start Time UTC
          format: date-time
          type: string
        distance:
          description: Distance (m)
          nullable: true
          type: number
        duration:
          description: Duration (s)
          type: number
        elapsed_duration:
          description: Elapsed Duration (s)
          nullable: true
          type: number
        moving_duration:
          description: Moving Duration (s)
          nullable: true
          type: number
        steps:
          description: Number of Steps
          nullable: true
          type: integer
        calories:
          description: Calories (kCal)
          nullable: true
          type: number
        average_hr:
          description: Average Heartrate
          nullable: true
          type: number
        max_hr:
          description: Max Heartrate
          nullable: true
          type: number
      type: object
      required:
      - activity_id
      - start_time_gmt
      - duration
    FitbitCallbackRequest:
      properties:
        code:
          description: Authorization Code
          type: string
        state:
          description: CSRF State
          type: string
      type: object
      required:
      - code
      - state
    FitbitHeartrate:
      properties:
        datetime:
          description: DateTime
          format: date-time
          type: string
        value:
          description: Heartrate Value (bpm)
          type: integer
      type: object
      required:
      - datetime
      - value
    FitbitBodyWeightFat:
      properties:
        datetime:
          description: DateTime
          format: date-time
          type: string
        weight:
          description: Weight (lbs)
          type: number
        fat:
          description: Fat %
          type: number
      type: object
      required:
      - datetime
      - weight
      - fat
    FitbitBodyWeightFatUpdate:
      properties:
        measurements:
          description: Measurements
          items:
            $ref: '#/components/schemas/ScaleMeasurement'
          type: array
        activities:
          description: Activity DateTimes
          items:
            format: date-time
            type: string
          type: array
        duplicates:
          description: Duplicate Messages
          items:
            type: string
          type: array
      type: object
      required:
      - measurements
      - activities
      - duplicates
    ScaleMeasurement:
      properties:
        id:
          description: Scale Measurement ID
          format: uuid
          example: 334518f4-1bfd-4f20-9978-bfad0dc033e1
          type: string
        datetime:
          description: DateTime
          format: date-time
          type: string
        mass:
          description: Mass (lbs)
          type: number
        fat_pct:
          description: Fat %
          type: number
        water_pct:
          description: Water %
          type: number
        muscle_pct:
          description: Muscle %
          type: number
        bone_pct:
          description: Bone %
          type: number
      type: object
      required:
      - id
      - datetime
      - mass
      - fat_pct
      - water_pct
      - muscle_pct
      - bone_pct
    FitbitActivity:
      properties:
        log_type:
          description: Log Type
          type: string
        start_time:
          description: Start Datetime
          format: date-time
          type: string
        tcx_link:
          description: TCX Link
          nullable: true
          type: string
        activity_type_id:
          description: Activity Type ID
          nullable: true
          type: integer
        activity_name:
          description: Activity Name
          nullable: true
          type: string
        duration:
          description: Duration (ms)
          type: integer
        distance:
          description: Distance (mi)
          nullable: true
          type: number
        distance_unit:
          description: Distance Unit
          nullable: true
          type: string
        steps:
          description: Number of Steps
          nullable: true
          type: integer
        log_id:
          description: Log ID
          type: integer
      type: object
      required:
      - log_type
      - start_time
      - duration
      - log_id
    FitbitStatisticsSummary:
      properties:
        date:
          description: Date
          format: date
          example: 2023-01-01
          type: string
        min_heartrate:
          description: Minimum Heartrate
          type: number
        max_heartrate:
          description: Maximum Heartrate
          type: number
        mean_heartrate:
          description: Mean Heartrate
          type: number
        median_heartrate:
          description: Median Heartrate
          type: number
        stdev_heartrate:
          description: Heartrate Standard Deviation
          type: number
        number_of_entries:
          description: Number of Entries
          type: integer
      type: object
      required:
      - date
      - min_heartrate
      - max_heartrate
      - mean_heartrate
      - median_heartrate
      - stdev_heartrate
      - number_of_entries
    ScaleMeasurementManualRequest:
      properties:
        weight_in_lbs:
          description: Weight in lbs
          example: '189.0'
          type: number
        body_fat_percent:
          description: Body fat percent
          example: '20.3'
          type: number
        muscle_mass_lbs:
          description: Muscle mass in lbs
          example: '153.0'
          type: number
        body_water_percent:
          description: Body water percent
          example: '63.0'
          type: number
        bone_mass_lbs:
          description: Bone mass in lbs
          example: '63.0'
          type: number
      type: object
      required:
      - weight_in_lbs
      - body_fat_percent
      - muscle_mass_lbs
      - body_water_percent
      - bone_mass_lbs
    StravaCallbackRequest:
      properties:
        code:
          description: Authorization Code
          type: string
        state:
          description: CSRF State
          type: string
      type: object
      required:
      - code
      - state
    StravaActivity:
      properties:
        name:
          description: Activity Name
          type: string
        start_date:
          description: Start Date
          format: date-time
          type: string
        id:
          description: Activity ID
          type: integer
        distance:
          description: Distance (m)
          nullable: true
          type: number
        moving_time:
          description: Moving Time (s)
          nullable: true
          type: integer
        elapsed_time:
          description: Elapsed Time (s)
          type: integer
        total_elevation_gain:
          description: Total Elevation Gain (m)
          nullable: true
          type: number
        elev_high:
          description: Maximum Elevation
          nullable: true
          type: number
        elev_low:
          description: Minimum Elevation
          nullable: true
          type: number
        activity_type:
          description: Activity Type
          type: string
          enum:
          - running
          - biking
          - walking
          - hiking
          - ultimate
          - elliptical
          - stairs
          - lifting
          - swimming
          - other
          - snowshoeing
          - skiing
          - none
        timezone:
          description: Time Zone
          format: timezone
          type: string
      type: object
      required:
      - name
      - start_date
      - id
      - elapsed_time
      - activity_type
      - timezone
    StravaActiviesDBUpdateRequest:
      properties:
        updates:
          items:
            $ref: '#/components/schemas/StravaActivity'
          type: array
      type: object
      required:
      - updates
    LoggedUser:
      properties:
        email:
          description: Email Address
          type: string
        session:
          description: Session UUID
          format: uuid
          example: 334518f4-1bfd-4f20-9978-bfad0dc033e1
          type: string
        secret_key:
          description: Secret Key
          type: string
      type: object
      required:
      - email
      - session
      - secret_key
    RaceResultPlotRequest:
      properties:
        race_type:
          description: Race Type
          type: string
          enum:
          - personal
          - world_record_men
          - world_record_women
        demo:
          description: Demo Flag
          nullable: true
          type: boolean
      type: object
      required:
      - race_type
    RaceResults:
      properties:
        id:
          description: Race Result ID
          format: uuid
          example: 334518f4-1bfd-4f20-9978-bfad0dc033e1
          type: string
        race_type:
          description: Race Type
          type: string
          enum:
          - personal
          - world_record_men
          - world_record_women
        race_date:
          description: Race Date
          format: date
          nullable: true
          example: 2023-01-01
          type: string
        race_name:
          description: Race Name
          nullable: true
          type: string
        race_distance:
          description: Race Distance (m)
          type: integer
        race_time:
          description: Race Duration (s)
          type: number
        race_flag:
          description: Race Flag
          type: boolean
        race_summary_ids:
          description: Race Summary IDs
          items:
            format: uuid
            nullable: true
            example: 334518f4-1bfd-4f20-9978-bfad0dc033e1
            type: string
          type: array
      type: object
      required:
      - id
      - race_type
      - race_distance
      - race_time
      - race_flag
      - race_summary_ids
    RaceResultsDBUpdateRequest:
      properties:
        updates:
          items:
            $ref: '#/components/schemas/RaceResults'
          type: array
      type: object
      required:
      - updates
